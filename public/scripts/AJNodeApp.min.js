angular.module("myApp",["ngRoute","ngProgress"]),angular.module("myApp").config(["$provide","$routeProvider",function(t,e){t.factory("$routeProvider",function(){return e})}]).run(["$routeProvider","$http","$route",function(t,e,n){e.get("scripts/routes.json").success(function(e){angular.forEach(e,function(e){t.when(e.url,{templateUrl:e.template,controller:e.controller})}),n.reload()})}]),angular.module("myApp").controller("AppListController",["$scope","ApiService",function(t,e){function n(e){console.log(e),t.newApp.app_url="",t.newApp.name=""}function o(e){for(var n=t.registeredApps.length,o=0;n>o;o++)if(t.registeredApps[o]._id===e)return o}var r="/api/registeredApp/";e.get(r).then(function(e){t.registeredApps=e},n),t.createApp=function(o){e.post(r,o).then(function(e){t.registeredApps.push(e),t.newApp.app_url="",t.newApp.name=""},n)},t.prepareForEdit=function(e){t.edit=!0,t.newApp=t.registeredApps[o(e)]},t.updateApp=function(u){e.put(r+u._id,u).then(function(e){t.registeredApps[o(u._id)]=e,t.newApp.app_url="",t.newApp.name="",t.edit=!1},n)},t.removeApp=function(u){e.remove(r+u).then(function(){t.registeredApps.splice(o(u),1)},n)}}]),angular.module("myApp").controller("CategoryController",["$scope","$http","$location","ctgId","$rootScope","ApiService",function(t,e,n,o,r,u){function s(t){console.log(t)}var i="/api/writeAccess/quotesList/",c="/api/category/";"undefined"!=typeof o.getCtgObject()&&o.getCtgObject().isAuthor&&(t.showAuthors=!0);var a=u.get(i).then(function(e){o.hasWriteAccess=e.permission,t.hasWriteAccess=o.hasWriteAccess},s);a.then(function(){u.get(c).then(function(e){t.ctgs=$.map(e,function(t){return"ctg"===t.type?t:void 0}),t.authors=$.map(e,function(t){return"author"===t.type?t:void 0})},s)},s),t.createCategory=function(){var e=t.showAuthors?"author":"ctg";u.post(c,{name:t.newCtgText,type:e}).then(function(n){"ctg"===e?t.ctgs.push(n):t.authors.push(n),t.showCreate=!1,t.newCtgText=""},s)},t.saveCategory=function(e){var n,o;t.showAuthors?(n=t.authors[e]._id,o={name:t.authors[e].name,type:t.authors[e].type}):(n=t.ctgs[e]._id,o={name:t.ctgs[e].name,type:t.ctgs[e].type}),u.put(c+n,o).then(function(n){t.showAuthors?(n._id=t.authors[e]._id,t.authors[e]=n,t.saving_author[e]=!1):(n._id=t.ctgs[e]._id,t.ctgs[e]=n,t.saving[e]=!1)},s)},t.saving=[],t.saving_author=[],t.editCategory=function(e){t.showAuthors?t.saving_author[e]=!0:t.saving[e]=!0},t.deleteCategory=function(e){var n;n=t.showAuthors?t.authors[e]._id:t.ctgs[e]._id,u.remove(c+n).then(function(n){"Deleted Successfully"===n.message&&(t.showAuthors?t.authors.splice(e,1):t.ctgs.splice(e,1))},s)},t.showQuotes=function(e){t.showAuthors?(o.setCtgId(t.authors[e]._id),o.setCtgObject({name:t.authors[e].name,isAuthor:!0})):(o.setCtgId(t.ctgs[e]._id),o.setCtgObject({name:t.ctgs[e].name,isAuthor:!1})),n.path("/quotesList")}}]),angular.module("myApp").controller("HomeController",["$scope","ApiService",function(t,e){e.get("/api/myApps").then(function(e){t.myApps=e})}]),angular.module("myApp").controller("QuotesController",["$scope","ctgId","$http","ngProgress","$location","ApiService",function(t,e,n,o,r,u){var s="/api/quote/",i=function(t){console.log(t)};return t.hasWriteAccess=e.hasWriteAccess,"undefined"==typeof e.getCtgObject()?void r.path("/categories"):(e.getCtgObject().isAuthor?(t.quoteTitleText="Quotes by "+e.getCtgObject().name,t.isAuthor=!0,t.newQuoteAuthor=e.getCtgObject().name):t.quoteTitleText="Quotes on "+e.getCtgObject().name,u.get(s+e.getCtgId()).then(function(e){t.quotes=[],angular.forEach(e,function(t){this.push(t)},t.quotes)},i),t.createQuote=function(){u.post(s,{text:t.newQuoteText,author:t.newQuoteAuthor,ctg_id:e.getCtgId()}).then(function(n){t.quotes.push(n),t.showCreate=!1,t.newQuoteText="",t.newQuoteAuthor=e.getCtgObject().isAuthor?e.getCtgObject().name:""},i)},t.saveQuote=function(n){u.put(s+t.quotes[n]._id,{text:t.quotes[n].text,author:t.quotes[n].author,ctg_id:e.getCtgId()}).then(function(e){e._id={$id:t.quotes[n]._id},t.quotes[n]=e,t.saving[n]=!1},i)},t.saving=[],t.editQuote=function(e){t.saving[e]=!0},void(t.deleteQuote=function(e){u.remove(s+t.quotes[e]._id).then(function(n){"Deleted Successfully"===n.message&&t.quotes.splice(e,1)},i)}))}]),angular.module("myApp").controller("UsersPermissionsController",["$scope","$http","ngProgress","ApiService",function(t,e,n,o){var r=function(){console.log("reason")};o.get("/api/usersList").then(function(e){t.users=e,t.checkId=[],t.check={},angular.forEach(t.users,function(e){t.check[e.email]=[!1,!1]})},r),o.get("/api/registeredApp").then(function(e){t.apps=[],angular.forEach(e,function(t){this.push(t)},t.apps)},r),t.change=function(e,n){var u=null!==e?e.name:!1;u&&o.get("api/appPermissions/"+u+"/"+n).then(function(e){t.check[n]=e},r)},t.updateChange=function(e,n){var u="undefined"!=typeof e?e.name:!1;u&&o.post("api/appPermissions/"+u+"/"+n,[t.check[n][0],t.check[n][1]]).then(function(e){t.check[n]=e},r)}}]),angular.module("myApp").directive("colorMe",[function(){function t(t,e){var n=["#000000","#795548","#4CAF50","#009688","#673AB7","#FF5722","#F44336"],o=n[Math.floor(Math.random()*n.length)];e.css("color",o)}return{link:t}}]),angular.module("myApp").factory("ctgId",[function(){function t(t){r=t}function e(){return r}function n(){return u}function o(t){u=t}var r,u,s;return{getCtgId:e,setCtgId:t,getCtgObject:n,setCtgObject:o,hasWriteAccess:s}}]),angular.module("myApp").factory("ApiService",["$http","$q","ngProgress",function(t,e,n){function o(o,r,u){n.start();var s=e.defer();s.notify("Calling Service...");var i={method:o,url:r,headers:{"Content-Type":"application/json"},data:u};return t(i).success(function(t){n.complete(),s.resolve(t)}).error(function(t){n.complete(),s.reject(t)}),s.promise}function r(t){return o("GET",t,null)}function u(t,e){return o("POST",t,e)}function s(t,e){return o("PUT",t,e)}function i(t){return o("DELETE",t,null)}return{get:r,post:u,put:s,remove:i}}]);
//# sourceMappingURL=AJNodeApp.min.js.map